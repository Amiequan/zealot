{
  "name": "Zealot Development Codespace",
  "dockerComposeFile": "docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspace",

  "settings": {
    "terminal.integrated.defaultProfile.linux": "zsh",
    "terminal.integrated.profiles.linux":{
      "zsh": {
        "path": "/usr/bin/zsh",
        "icon": "star"
      }
    }
  },

  "extensions": [
    "Shopify.ruby-extensions-pack",
    "misogi.ruby-rubocop",
    "eamodio.gitlens",
    "bung87.rails",
    "bung87.vscode-gemfile",
    "EditorConfig.EditorConfig"
  ],

  // 3000 rails server
  // 3035 webpacker dev server
  // 5432 postgres server
  // 6379 redis server
  // 8081 pgweb server
  "forwardPorts": [3000, 3035, 5432, 6379, 8081],
  "portsAttributes": {
    "3000": {
      "label": "Rails Server"
    },
    "3035": {
      "label": "Webpack Dev Server"
    },
    "5432": {
      "label": "Postgresql Server"
    },
    "6379": {
      "label": "Redis Server"
    },
    "8081": {
      "label": "PGWeb"
    }
  },

  // Re-initialze ruby gems, javascript packages and database migration.
  "postCreateCommand": "bundle install && yarn install && rails zealot:upgrade"
}
